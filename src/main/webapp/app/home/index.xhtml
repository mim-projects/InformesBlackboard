<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:m="http://java.sun.com/jsf/composite/mimsoft/components"
                template="/templates/template_app.xhtml">
    <ui:define name="end_head">
        <h:outputStylesheet library="mimsoft" name="/css/dashboard.css"/>
    </ui:define>
    <ui:define name="container_body">
        <div class="container">
            <ui:repeat value="#{homeCtrl.allGrades}" var="grade" varStatus="status">
                <h:form class="card">
                    <div class="title-card">
                        <div class="title-card-icon-text">
                            <i class="pi pi-book" style="font-size: 1rem !important;"></i>
                            <h1 style="font-size: 1rem !important;">#{bundle.courses}. #{grade.name}</h1>
                        </div>
                        <div>
                            <p:selectOneMenu value="#{homeCtrl.selectedPeriodCourses[status.index]}">
                                <f:selectItems value="#{homeCtrl.coursesPeriod}" var="period" itemValue="#{period}" itemLabel="#{period}"/>
                                <p:ajax event="change" update="@form"/>
                            </p:selectOneMenu>
                        </div>
                    </div>
                    <div class="content-card">
                        <h:outputText escape="false" value="#{homeCtrl.getCustomTableCourses(homeCtrl.selectedPeriodCourses[status.index], grade)}"/>
                    </div>
                </h:form>
            </ui:repeat>

            <ui:repeat value="#{homeCtrl.allGrades}" var="grade" varStatus="status">
                <h:form class="card">
                    <div class="title-card">
                        <div class="title-card-icon-text">
                            <i class="pi pi-users" style="font-size: 1rem !important;"></i>
                            <h1 style="font-size: 1rem !important;">#{bundle.users}. #{grade.name}</h1>
                        </div>
                        <div>
                            <p:selectOneMenu value="#{homeCtrl.selectedPeriodUsers[status.index]}">
                                <f:selectItems value="#{homeCtrl.coursesPeriod}" var="period" itemValue="#{period}" itemLabel="#{period}"/>
                                <p:ajax event="change" update="@form"/>
                            </p:selectOneMenu>
                        </div>
                    </div>
                    <div class="content-card">
                        <h:outputText escape="false" value="#{homeCtrl.getCustomTableUsers(homeCtrl.selectedPeriodCourses[status.index], grade)}"/>
                    </div>
                </h:form>
            </ui:repeat>

            <div class="card">
                <div class="title-card">
                    <div class="title-card-icon-text">
                        <i class="pi pi-server" style="font-size: 1rem !important;"></i>
                        <h1 style="font-size: 1rem !important;">#{bundle.storage}</h1>
                    </div>
                </div>
                <div class="content-card">
                    <m:eChartCustom data="#{homeCtrl.storageHistory}" height="250px"/>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>